"use strict";(self.webpackChunkcryptoApp=self.webpackChunkcryptoApp||[]).push([[752],{5752:(K,h,i)=>{i.r(h),i.d(h,{WalletModule:()=>X});var l=i(9808),p=i(0),v=i(5226),s=i.n(v),t=i(5e3),y=i(6518),A=i(2340),b=i(520);let f=(()=>{class e{constructor(r){this.http=r,this.pairingUrl=A.N.pairingUrl}get crypto(){return Object.assign({},this._crypto)}getPairing(){return this.http.get(this.pairingUrl)}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(b.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=i(4889),m=i(9224),C=i(5245),_=i(4623),d=i(4106),Z=i(7531),o=i(4999),T=i(7423);function x(e,n){1&e&&(t.TgZ(0,"th",19),t._uU(1," Base "),t.qZA())}function U(e,n){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",r.base," ")}}function D(e,n){1&e&&(t.TgZ(0,"th",19),t._uU(1," Currency "),t.qZA())}function O(e,n){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",r.currency," ")}}function M(e,n){1&e&&(t.TgZ(0,"th",19),t._uU(1," Amount "),t.qZA())}function E(e,n){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,r.amount,"1.0-6")," ")}}function N(e,n){1&e&&(t.TgZ(0,"th",19),t._uU(1," My BTC Wallet "),t.qZA())}function w(e,n){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,r.pairing,"1.0-6")," \u20ac")}}function q(e,n){1&e&&t._UZ(0,"tr",21)}function Y(e,n){1&e&&t._UZ(0,"tr",22)}let P=(()=>{class e{constructor(r,a,c){this.router=r,this.authService=a,this.pairingService=c,this.cryptoPairing={data:{base:"",currency:"",amount:0,pairing:0}},this.ELEMENT_DATA=[],this.displayedColumns=["base","currency","amount","parity"]}get user(){return this.authService.user}get crypto(){return this.pairingService.crypto}ngOnInit(){this.pairingService.getPairing().subscribe(r=>{this.cryptoPairing=r,this.cryptoPairing.data.pairing=this.user.cryptoCurrency*this.cryptoPairing.data.amount,this.ELEMENT_DATA=[this.cryptoPairing.data]})}logout(){this.router.navigateByUrl("/auth"),this.authService.logout()}operations(){this.authService.validateToken().subscribe(r=>{!0===r?this.router.navigate(["./wallet/operations"]):(s().fire("Error","Session Expired","error"),this.router.navigate(["./auth/login"]))})}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(p.F0),t.Y36(y.e),t.Y36(f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:51,vars:7,consts:[["fullscreen",""],["id","center"],["aria-hidden","true","color","accent"],["matInput","","name","username","readonly","",3,"value"],["matInput","","name","email","readonly","",3,"value"],["matInput","","name","fiatCurrency","readonly","",3,"value"],["matInput","","name","cryptoCurrency","readonly","",3,"value"],["id","table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","base"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","currency"],["matColumnDef","amount"],["matColumnDef","parity"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","type","button","color","primary",3,"click"],["mat-raised-button","","type","button","color","warn",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,a){1&r&&(t.TgZ(0,"mat-drawer-container",0)(1,"mat-card")(2,"div",1)(3,"mat-icon",2),t._uU(4," paid "),t.qZA(),t.TgZ(5,"h1"),t._uU(6,"User Wallet"),t.qZA()(),t.TgZ(7,"mat-card-content")(8,"mat-list")(9,"mat-form-field")(10,"span")(11,"strong"),t._uU(12,"Username:"),t.qZA()(),t._UZ(13,"input",3),t.qZA(),t.TgZ(14,"mat-form-field")(15,"span")(16,"strong"),t._uU(17,"Email:"),t.qZA()(),t._UZ(18,"input",4),t.qZA(),t.TgZ(19,"mat-form-field")(20,"span")(21,"strong"),t._uU(22,"FIAT Currency:"),t.qZA()(),t._UZ(23,"input",5),t.qZA(),t.TgZ(24,"mat-form-field")(25,"span")(26,"strong"),t._uU(27,"Crypto Currency:"),t.qZA()(),t._UZ(28,"input",6),t.qZA()()(),t.TgZ(29,"mat-card-content")(30,"mat-list",7)(31,"table",8),t.ynx(32,9),t.YNc(33,x,2,0,"th",10),t.YNc(34,U,2,1,"td",11),t.BQk(),t.ynx(35,12),t.YNc(36,D,2,0,"th",10),t.YNc(37,O,2,1,"td",11),t.BQk(),t.ynx(38,13),t.YNc(39,M,2,0,"th",10),t.YNc(40,E,3,4,"td",11),t.BQk(),t.ynx(41,14),t.YNc(42,N,2,0,"th",10),t.YNc(43,w,3,4,"td",11),t.BQk(),t.YNc(44,q,1,0,"tr",15),t.YNc(45,Y,1,0,"tr",16),t.qZA()()(),t.TgZ(46,"div",1)(47,"button",17),t.NdJ("click",function(){return a.operations()}),t._uU(48," Buy / Sell "),t.qZA(),t.TgZ(49,"button",18),t.NdJ("click",function(){return a.logout()}),t._uU(50," Logout "),t.qZA()()()()),2&r&&(t.xp6(13),t.MGl("value"," ",a.user.name," "),t.xp6(5),t.MGl("value"," ",a.user.email," "),t.xp6(5),t.MGl("value"," ",a.user.fiatCurrency," \u20ac"),t.xp6(5),t.MGl("value"," ",a.user.cryptoCurrency," BTC"),t.xp6(3),t.Q6J("dataSource",a.ELEMENT_DATA),t.xp6(13),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns))},directives:[g.kh,m.a8,C.Hw,m.dn,_.i$,d.KE,Z.Nt,o.BZ,o.w1,o.fO,o.ge,o.Dz,o.ev,o.as,o.XQ,o.nj,o.Gk,T.lW],pipes:[l.JJ],styles:["mat-card[_ngcontent-%COMP%]{max-width:80%;margin:8em auto;text-align:left}mat-form-field[_ngcontent-%COMP%]{width:40%;padding-left:5%}mat-icon[_ngcontent-%COMP%]{font-size:50px;height:50px;width:50px}#center[_ngcontent-%COMP%]{width:100%;text-align:center;padding-top:20px;padding-bottom:20px}button[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px;margin-left:50px;margin-right:50px}input[_ngcontent-%COMP%]{padding-top:10px;font-size:18px}table[_ngcontent-%COMP%]{width:80%}#table[_ngcontent-%COMP%]{padding-left:20%}"]}),e})();var u=i(3075);function B(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," Base "),t.qZA())}function I(e,n){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",r.base," ")}}function S(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," Currency "),t.qZA())}function k(e,n){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",r.currency," ")}}function J(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," Amount "),t.qZA())}function Q(e,n){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,r.amount,"1.0-6")," ")}}function L(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," My BTC Wallet "),t.qZA())}function j(e,n){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const r=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,r.pairing,"1.0-6")," \u20ac")}}function F(e,n){1&e&&t._UZ(0,"tr",23)}function R(e,n){1&e&&t._UZ(0,"tr",24)}function z(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.hij(" ",r.getErrorMessage("fiatCurrency")," ")}}function W(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const r=t.oxw();t.xp6(1),t.hij(" ",r.getErrorMessage("cryptoCurrency")," ")}}const $=[{path:"",children:[{path:"dashboard",component:P},{path:"operations",component:(()=>{class e{constructor(r,a,c){this.router=r,this.authService=a,this.pairingService=c,this.cryptoPairing={data:{base:"",currency:"",amount:0,pairing:0}},this.parity=0,this.ELEMENT_DATA=[],this.displayedColumns=["base","currency","amount","parity"],this.fiatCurrency=new u.NI(0,[u.kI.required,u.kI.min(.01),u.kI.minLength(1),u.kI.maxLength(25),u.kI.pattern("^[0-9]*.[0-9]{0,2}$")]),this.cryptoCurrency=new u.NI(0,[u.kI.required,u.kI.min(1e-6),u.kI.minLength(1),u.kI.maxLength(25),u.kI.pattern("^[0-9]*.[0-9]{0,6}$")])}get user(){return this.authService.user}get crypto(){return this.pairingService.crypto}ngOnInit(){this.pairingService.getPairing().subscribe(r=>{this.cryptoPairing=r,this.cryptoPairing.data.pairing=this.user.cryptoCurrency*this.cryptoPairing.data.amount,this.parity=this.cryptoPairing.data.pairing,this.ELEMENT_DATA=[this.cryptoPairing.data]})}buyCrypto(){this.fiatCurrency.valid?this.fiatCurrency.value>this.user.fiatCurrency?s().fire("Error","Insufficient money","error"):this.authService.update(this.user.email,this.user.fiatCurrency-this.fiatCurrency.value,this.user.cryptoCurrency+this.fiatCurrency.value/this.cryptoPairing.data.amount).subscribe(c=>{!0===c?this.router.navigate(["./wallet/dashboard"]):s().fire("Error",c,"error")}):this.fiatCurrency.markAllAsTouched()}sellCrypto(){this.cryptoCurrency.valid?this.cryptoCurrency.value>this.user.cryptoCurrency?s().fire("Error","Insufficient crypto currency","error"):this.authService.update(this.user.email,this.user.fiatCurrency+this.cryptoCurrency.value*this.cryptoPairing.data.amount,this.user.cryptoCurrency-this.cryptoCurrency.value).subscribe(c=>{!0===c?this.router.navigate(["./wallet/dashboard"]):s().fire("Error",c,"error")}):this.cryptoCurrency.markAllAsTouched()}dashboard(){this.router.navigateByUrl("/wallet/dashboard")}logout(){this.router.navigateByUrl("/auth"),this.authService.logout()}getErrorMessage(r){switch(r){case"fiatCurrency":return this.fiatCurrency.hasError("min")?"Your currency must be greater or equal than 0.01":this.fiatCurrency.hasError("minlength")?"Your currency must contain at least 1 characters.":this.fiatCurrency.hasError("maxlength")?"Your currency can't have more than 25 characters.":this.fiatCurrency.hasError("pattern")?"Your currency must be numeric and greater or equal than 0.01 and max 2 decimals.":this.fiatCurrency.hasError("required")?"A currency is required.":"";case"cryptoCurrency":return this.cryptoCurrency.hasError("min")?"Your currency must be greater or equal than 0.000001":this.cryptoCurrency.hasError("minlength")?"Your currency must contain at least 1 characters.":this.cryptoCurrency.hasError("maxlength")?"Your currency can't have more than 25 characters.":this.cryptoCurrency.hasError("pattern")?"Your currency must be numeric and greater or equal than 0.000001 and max 6 decimals.":this.cryptoCurrency.hasError("required")?"A currency is required.":"";default:return""}}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(p.F0),t.Y36(y.e),t.Y36(f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-operations"]],decls:63,vars:9,consts:[["fullscreen",""],["id","center"],["aria-hidden","true","color","accent"],["id","table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","base"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","currency"],["matColumnDef","amount"],["matColumnDef","parity"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matInput","","name","myFiatCurrency","readonly","",3,"value"],["matInput","","name","fiatCurrency",3,"formControl"],[4,"ngIf"],["mat-raised-button","","type","button","color","accent",3,"click"],["matInput","","name","myCryptoCurrency","readonly","",3,"value"],["matInput","","name","cryptoCurrency",3,"formControl"],["mat-raised-button","","type","button","color","primary",3,"click"],["mat-raised-button","","type","button","color","warn",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,a){1&r&&(t.TgZ(0,"mat-drawer-container",0)(1,"mat-card")(2,"div",1)(3,"mat-icon",2),t._uU(4," trending_up "),t.qZA(),t.TgZ(5,"h1"),t._uU(6,"Buy & Sell"),t.qZA()(),t._UZ(7,"hr"),t.TgZ(8,"mat-card-content")(9,"mat-list",3)(10,"table",4),t.ynx(11,5),t.YNc(12,B,2,0,"th",6),t.YNc(13,I,2,1,"td",7),t.BQk(),t.ynx(14,8),t.YNc(15,S,2,0,"th",6),t.YNc(16,k,2,1,"td",7),t.BQk(),t.ynx(17,9),t.YNc(18,J,2,0,"th",6),t.YNc(19,Q,3,4,"td",7),t.BQk(),t.ynx(20,10),t.YNc(21,L,2,0,"th",6),t.YNc(22,j,3,4,"td",7),t.BQk(),t.YNc(23,F,1,0,"tr",11),t.YNc(24,R,1,0,"tr",12),t.qZA()()(),t._UZ(25,"hr"),t.TgZ(26,"mat-card-content")(27,"mat-list")(28,"mat-form-field")(29,"span")(30,"strong"),t._uU(31,"FIAT Currency:"),t.qZA()(),t._UZ(32,"input",13),t.qZA(),t.TgZ(33,"mat-form-field")(34,"span")(35,"strong"),t._uU(36,"Buying Crypto Currency (in \u20ac):"),t.qZA()(),t._UZ(37,"input",14),t.YNc(38,z,2,1,"mat-error",15),t.qZA(),t.TgZ(39,"button",16),t.NdJ("click",function(){return a.buyCrypto()}),t._uU(40," Buy BTC "),t.qZA()()(),t._UZ(41,"hr"),t.TgZ(42,"mat-card-content")(43,"mat-list")(44,"mat-form-field")(45,"span")(46,"strong"),t._uU(47,"Crypto Currency:"),t.qZA()(),t._UZ(48,"input",17),t.qZA(),t.TgZ(49,"mat-form-field")(50,"span")(51,"strong"),t._uU(52,"Selling Crypto Currency (in BTC):"),t.qZA()(),t._UZ(53,"input",18),t.YNc(54,W,2,1,"mat-error",15),t.qZA(),t.TgZ(55,"button",16),t.NdJ("click",function(){return a.sellCrypto()}),t._uU(56," Sell BTC "),t.qZA()()(),t._UZ(57,"hr"),t.TgZ(58,"div",1)(59,"button",19),t.NdJ("click",function(){return a.dashboard()}),t._uU(60," Back to Dashboard "),t.qZA(),t.TgZ(61,"button",20),t.NdJ("click",function(){return a.logout()}),t._uU(62," Logout "),t.qZA()()()()),2&r&&(t.xp6(10),t.Q6J("dataSource",a.ELEMENT_DATA),t.xp6(13),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(8),t.MGl("value"," ",a.user.fiatCurrency," \u20ac"),t.xp6(5),t.Q6J("formControl",a.fiatCurrency),t.xp6(1),t.Q6J("ngIf",a.fiatCurrency.invalid),t.xp6(10),t.MGl("value"," ",a.user.cryptoCurrency," BTC"),t.xp6(5),t.Q6J("formControl",a.cryptoCurrency),t.xp6(1),t.Q6J("ngIf",a.cryptoCurrency.invalid))},directives:[g.kh,m.a8,C.Hw,m.dn,_.i$,o.BZ,o.w1,o.fO,o.ge,o.Dz,o.ev,o.as,o.XQ,o.nj,o.Gk,d.KE,Z.Nt,u.Fj,u.JJ,u.oH,l.O5,d.TO,T.lW],pipes:[l.JJ],styles:["mat-card[_ngcontent-%COMP%]{max-width:80%;margin:8em auto;text-align:left}mat-form-field[_ngcontent-%COMP%]{width:30%;padding-left:5%}mat-icon[_ngcontent-%COMP%]{font-size:50px;height:50px;width:50px}#center[_ngcontent-%COMP%]{width:100%;text-align:center;padding-top:20px;padding-bottom:20px}button[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px;margin-left:50px;margin-right:50px}input[_ngcontent-%COMP%]{padding-top:10px;font-size:18px}table[_ngcontent-%COMP%]{width:80%}#table[_ngcontent-%COMP%]{padding-left:20%}hr[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px}"]}),e})()},{path:"**",redirectTo:"dashboard"}]}];let G=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild($)],p.Bz]}),e})();var H=i(3166);let X=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,G,H.q,u.u5,u.UX]]}),e})()}}]);